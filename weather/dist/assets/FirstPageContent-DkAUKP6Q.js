import{u as F,g as S,_ as V,a as b}from"./weather-BhcGC6QX.js";import{d as y,r as g,o as T,c as i,a as W,w as C,b as t,t as a,u as k,e as $,f as c,F as I,g as L,h as E,i as M}from"./index-CC-tnUi0.js";const P=()=>({formattedTime:r=>{const s=typeof r=="string"?parseInt(r,10):r;return new Date(s*1e3).toLocaleString()}}),j={class:"weather-app"},q={key:0,class:"weather-card"},H=y({__name:"FirstPageContent",setup(x){const r=F(),{cities:s}=r,l=g("Выберите город"),e=g(null),d=async n=>{if(l.value=n.name,n)try{e.value=await S(n.lat,n.lon,1)}catch(o){console.error("Ошибка при запросе погоды:",o)}},{formattedTime:B}=P();return T(()=>{const n=s.find(o=>o.name==="Москва");n&&d(n)}),(n,o)=>{var f,m,_,v,p,h,w;const N=b,D=V;return c(),i("div",j,[W(D,{text:l.value,variant:"primary"},{default:C(()=>[(c(!0),i(I,null,L(k(s),u=>(c(),E(N,{key:u.name,onClick:z=>d(u)},{default:C(()=>[M(a(u.name),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["text"]),o[0]||(o[0]=t("div",null,"Сегодня",-1)),e.value?(c(),i("div",q,[t("div",null,a(k(B)((f=e.value)==null?void 0:f.fact.obs_time)),1),t("div",null,"Облачность: "+a((m=e.value)==null?void 0:m.fact.cloudness),1),t("div",null,"Погодные условия: "+a((_=e.value)==null?void 0:_.fact.condition),1),t("div",null,"Температура на ощупь "+a((v=e.value)==null?void 0:v.fact.feels_like)+" C",1),t("div",null,"Вероятность осадков "+a((p=e.value)==null?void 0:p.fact.prec_prob)+" %",1),t("div",null,"Температура "+a((h=e.value)==null?void 0:h.fact.temp)+" C",1),t("div",null,"Порывы ветра "+a((w=e.value)==null?void 0:w.fact.wind_gust)+" м/с",1),t("h3",null,a(l.value),1)])):$("",!0)])}}});export{H as default};
