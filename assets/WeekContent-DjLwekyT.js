import{u as w,g as x,_ as B,a as g}from"./weather-BhcGC6QX.js";import{d as y,r as u,o as W,c as n,a as D,w as p,b as o,t as a,F as h,g as f,f as s,h as N,i as S,u as V}from"./index-CC-tnUi0.js";const $={class:"WeekContent"},F={key:0},b={class:"date"},E={class:"temp"},I={class:"condition"},L={class:"precipitation"},M={key:1},z=y({__name:"WeekContent",setup(T){const v=w(),{cities:_}=v,c=u("Выберите город"),i=u(null),l=async t=>{if(c.value=t.name,t)try{i.value=await x(t.lat,t.lon,7)}catch(r){console.error("Ошибка при загрузке данных о погоде:",r)}};return W(()=>{const t=_.find(r=>r.name==="Москва");t&&l(t)}),(t,r)=>{var d;const k=g,C=B;return s(),n("div",$,[D(C,{text:c.value,variant:"primary"},{default:p(()=>[(s(!0),n(h,null,f(V(_),e=>(s(),N(k,{key:e.name,onClick:m=>l(e)},{default:p(()=>[S(a(e.name),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["text"]),i.value?(s(),n("div",F,[o("h2",null,"Прогноз на неделю для "+a(c.value),1),(s(!0),n(h,null,f((d=i.value)==null?void 0:d.forecasts,(e,m)=>(s(),n("div",{key:m,class:"weather-day"},[o("div",b,a(e.date),1),o("div",E,"Температура: "+a(e.parts.day.temp_max)+"°C - "+a(e.parts.day.temp_min)+"°C",1),o("div",I,"Состояние: "+a(e.parts.day.condition),1),o("div",L,"Осадки: "+a(e.parts.day.prec_mm)+" мм",1)]))),128))])):(s(),n("div",M,"Загрузка данных..."))])}}});export{z as default};
